<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Tauras Giedraitis</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png">
    <link rel="manifest" href="./favicon/site.webmanifest">
</head>
<body>
<div class="grid">
    <div class="card big">
        <span class="fit">TAURAS</span>
        <span class="fit">GIEDRAITIS</span>
        <span class="fit">Software Engineering Student at KTU</span>
    </div>
    <div class="card flip"></div>
    <div class="card flip"></div>
    <div class="card flip"></div>
    <div class="card flip"></div>
    <div class="card flip"></div>
    <div class="card flip"></div>
    <div class="card big"></div>
    <div class="card flip"></div>
    <div class="card flip"></div>
    <div class="card big"></div>
    <div class="card flip"></div>
    <div class="card flip"></div>
    <div class="card flip"></div>
    <div class="card flip"></div>
</div>

<script>
    function fitTextToSpan() {
        const spans = document.querySelectorAll('span.fit');

        spans.forEach(span => {
            const spanWidth = span.parentElement.clientWidth * 0.8 + 1;
            let fontSize = 10;

            span.style.setProperty('font-size', fontSize + 'px', 'important');
            span.style.whiteSpace = 'nowrap';

            while (span.scrollWidth < spanWidth && fontSize < 300) {
                fontSize++;
                span.style.setProperty('font-size', fontSize + 'px', 'important');
            }

            if (span.scrollWidth > spanWidth) {
                fontSize--;
                span.style.setProperty('font-size', fontSize + 'px', 'important');
            }
        });
    }

    window.addEventListener('load', fitTextToSpan);
    window.addEventListener('resize', fitTextToSpan);
</script>

<script>
    const cards = document.querySelectorAll('.card.flip');

    function randomFlip() {
        const available = Array.from(cards).filter(
            t => !t.matches(':hover') // donâ€™t flip hovered ones
        );

        if (available.length === 0) return;

        const chosen = [];
        for (let i = 0; i < 1 && available.length > 0; i++) {
            const idx = Math.floor(Math.random() * available.length);
            chosen.push(available.splice(idx, 1)[0]);
        }

        chosen.forEach(card => {
            const dir = Math.random() > 0.5 ? 'flip-x' : 'flip-y';
            card.classList.add(dir);
            setTimeout(() => card.classList.remove(dir), 600);
        });
    }

    // Run every 0.5 seconds
    setInterval(randomFlip, 500);

    function updateCardStyles() {
        const cards = document.querySelectorAll(".card");
        if (cards.length < 1) return;

        const firstCard = cards[0];
        const width = firstCard.getBoundingClientRect().width; // exact pixel width
        const size = width * 0.10; // 10% of width

        const padding = `${size}px`;
        const borderRadius = `${size}px`;

        // Apply padding and border-radius to all other cards
        cards.forEach((card, index) => {
            if (index === 0) return; // skip first card for padding/border-radius
            card.style.setProperty("padding", padding, "important");
            card.style.setProperty("border-radius", borderRadius, "important");
        });

        // Apply blur backdrop to all cards including the first
        cards.forEach(card => {
            card.style.setProperty("backdrop-filter", "blur(0.25rem)", "important");
        });
    }

    // Run on page load
    window.addEventListener("load", updateCardStyles);

    // Update on window resize
    window.addEventListener("resize", updateCardStyles);

    // Observe the first card for dynamic resizing
    const firstCard = document.querySelector(".card");
    if (firstCard) {
        const observer = new ResizeObserver(updateCardStyles);
        observer.observe(firstCard);
    }
</script>
</body>
</html>